var CAIRS={windowWidth:0,windowHeight:0,loadScript:function(e,t){e=e+".js";var n=document.createElement("script");n.type="text/javascript";if(n.readyState){n.onreadystatechange=function(){if(n.readyState=="loaded"||n.readyState=="complete"){n.onreadystatechange=null;t()}}}else{n.onload=function(){t()}}n.src=e;document.getElementsByTagName("head")[0].appendChild(n)},lScript:function(e,t){var n=document.createElement("script");n.type="text/javascript";if(n.readyState){n.onreadystatechange=function(){if(n.readyState=="loaded"||n.readyState=="complete"){n.onreadystatechange=null;t()}}}else{n.onload=function(){t()}}n.src=e;document.getElementsByTagName("head")[0].appendChild(n)},getMousePosition:function(e,t){var n=document.all?true:false;var r;var i;if(!n){r=e.pageX-200;i=e.pageY-150}if(n){r=e.clientX+document.documentElement.scrollLeft+document.body.scrollLeft-200;i=e.clientY+document.documentElement.scrollTop+document.body.scrollTop+150}if(t=="y"){return i}else{return r}},getElementPosition:function(e,t){var n=document.getElementById(e);var r=n.offsetLeft;var i=n.offsetTop;while(n=n.offsetParent)r+=n.offsetLeft;n=document.getElementById(e);while(n=n.offsetParent)i+=n.offsetTop;if(t=="y"){return i-150}else{return r-200}},getPagePosition:function(e,t,n){var r=this,i=0,s=0,o=document,u=window;if(!window.pageYOffset){if(!(document.documentElement.scrollTop==0)){s=o.documentElement.scrollTop;i=o.documentElement.clientWidth}else{s=o.body.scrollTop;i=document.body.clientWidth}}else{s=u.pageYOffset;i=u.innerWidth}i=i/2-t/2;if(window.innerHeight){s=s+window.innerHeight/2-n/2}else{s=s+document.body.clientHeight/2-n/2}if(e=="y"){return s}else{return i}},Browser:{init:function(){this.name=this.searchString(this.dataBrowser)||"An unknown browser";this.onLine=navigator.onLine||"Unknow connection status";this.cookieEnabled=navigator.cookieEnabled||"Unknow cookies permission";this.plugins=navigator.plugins||"Unknow plugins";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string;var r=e[t].prop;this.versionSearchString=e[t].versionSearch||e[t].identity;if(n){if(n.indexOf(e[t].subString)!=-1)return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(t==-1)return;return parseFloat(e.substring(t+this.versionSearchString.length+1))},isPlugin:function(e){typeof e==="undefined"?e="notspecified":"";for(var t in CAIRS.Browser.plugins){typeof CAIRS.Browser.plugins[t].name==="undefined"?CAIRS.Browser.plugins[t].name="Unknow plugin":"";var n=new RegExp(""+e.toString()+"","g");if(CAIRS.Browser.plugins[t].name.match(n))return true}return false},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},getAndSetWindowDimension:function(){var e=this,t=document,n=window;if(n.innerWidth){e.windowWidth=n.innerWidth;e.windowHeight=n.innerHeight}else{if(!(t.documentElement.scrollTop==0)){e.windowWidth=t.documentElement.clientWidth;e.windowHeight=t.documentElement.clientHeight}else{e.windowWidth=t.body.clientWidth;e.windowHeight=t.body.clientHeight}}},checkBrowserStuff:function(){var e=this;e.Browser.init();e.getAndSetWindowDimension();var t=false;var n=false;if(e.Browser.name==="Explorer"){try{new ActiveXObject("Microsoft.XMLHTTP");t=true}catch(r){if(new Number(e.Browser.version)>=7){try{new XMLHttpRequest;t=true}catch(r){e.showDirections("MSXML")}}else{e.showDirections("MSXML")}}try{new ActiveXObject("Microsoft.XMLDOM");n=true}catch(r){if(t&&!n){e.showDirections("COMPONENTS_DISABLED")}else{e.showDirections("MSXML")}}}},showDirections:function(e){var t=this,n="",r,i;r=document.createElement("DIV");r.setAttribute("style",'-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"; filter: alpha(opacity=50);');r.style.width="100%";r.style.height="100%";r.style.position="fixed";r.style.top="0";r.style.left="0";r.style.zIndex="999888";r.style.backgroundColor="#000000";r.style.opacity="0.5";i=document.createElement("DIV");i.setAttribute("style","font-size:14px;padding-top:295px;padding-right:50px;padding-left:8px;color:#333333;line-height:18px;font-family:arial;");i.style.width="442px";i.style.height="80px";i.style.position="fixed";i.style.top=t.windowHeight/2-183+"px";i.style.left=t.windowWidth/2-250+"px";i.style.zIndex="999999";i.style.backgroundImage="url(http://cairs.web2solutions.com.br/CAIRS_Framework/imgs/splash.png)";i.style.backgroundRepeat="no-repeat";i.style.opacity="1";i.style.textAlign="left";if(e==="MSXML"){n=n+"<b>Your browser is out of date</b> <br>";n=n+"Your computer does not have a necessary component installed <br>";n=n+'<b>Please click <a target="_blank" style="color:#003399;" href="http://www.microsoft.com/en-us/download/details.aspx?id=19662" title="download">here</a> to install the component or use Firefox or Google Chrome</b>'}else if(e==="COMPONENTS_DISABLED"){n=n+'You are running Internet Explorer under <b>"no add-ons"</b> mode, <br>';n=n+"or ActiveXs are disabled <br>";n=n+"Close your browser and open the Internet Explorer again by reaching:<br><b>Start menu -> All Programs -> Internet Explorer</b>"}i.innerHTML=n;try{document.body.appendChild(r);document.body.appendChild(i)}catch(s){document.getElementsByTagName("body")[0].appendChild(r);document.getElementsByTagName("body")[0].appendChild(i)}},exposeForEach:function(){if(!Array.prototype.forEach){Array.prototype.forEach=function(t,n){var r,i;if(this==null){throw new TypeError("this is null or not defined")}var s=Object(this);var o=s.length>>>0;if({}.toString.call(t)!=="[object Function]"){throw new TypeError(t+" is not a function")}if(n){r=n}i=0;while(i<o){var u;if(Object.prototype.hasOwnProperty.call(s,i)){u=s[i];t.call(r,u,i,s)}i++}}}},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},isObject:function(e){return typeof e=="object"&&e!==null},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},toCurrency:function(e){x=0;if(e<0){e=Math.abs(e);x=1}if(isNaN(e))e="0";cents=Math.floor((e*100+.5)%100);e=Math.floor((e*100+.5)/100).toString();if(cents<10)cents="0"+cents;for(var t=0;t<Math.floor((e.length-(1+t))/3);t++)e=e.substring(0,e.length-(4*t+3))+","+e.substring(e.length-(4*t+3));ret=e+"."+cents;if(x==1)ret=" - "+ret;return ret},parseFloat:function(e,t){typeof t==="undefined"?t=2:"";e=e.replace(",","");return parseFloat(e).toFixed(t)},ext:function(e,t,n){var r=this,i;typeof n==="undefined"?n=false:"";for(var s in t){if(n){var o=true;var u="";n.split(".").forEach(function(e,t,n){if(o){window[e]=window[e]||{};u=window[e];o=false}else{u[e]=u[e]||{};u=u[e]}});e&&e!=null?u[s]=Object.create(e):u[s]={};i=u[s];for(var a in t[s]){u[s][a]=u[a]||{};u[s][a]=t[s][a];i[a]=u[s][a]}}else{e&&e!=null?window[s]=Object.create(e):window[s]={};i=window[s];for(var a in t[s]){i[a]=t[s][a]}}}return i},shortcut:{all_shortcuts:{},add:function(e,t,n){var r={type:"keydown",propagate:false,disable_in_input:true,target:document,keycode:false};if(!n)n=r;else{for(var i in r){if(typeof n[i]=="undefined")n[i]=r[i]}}var s=n.target;if(typeof n.target=="string")s=document.getElementById(n.target);var o=this;e=e.toLowerCase();var u=function(r){r=r||window.event;if(n["disable_in_input"]){var i;if(r.target)i=r.target;else if(r.srcElement)i=r.srcElement;if(i.nodeType==3)i=i.parentNode;if(i.tagName=="INPUT"||i.tagName=="TEXTAREA")return}if(r.keyCode)code=r.keyCode;else if(r.which)code=r.which;var s=String.fromCharCode(code).toLowerCase();if(code==188)s=",";if(code==190)s=".";var o=e.split("+");var u=0;var a={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};var f={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};var l={shift:{wanted:false,pressed:false},ctrl:{wanted:false,pressed:false},alt:{wanted:false,pressed:false},meta:{wanted:false,pressed:false}};if(r.ctrlKey)l.ctrl.pressed=true;if(r.shiftKey)l.shift.pressed=true;if(r.altKey)l.alt.pressed=true;if(r.metaKey)l.meta.pressed=true;for(var c=0;k=o[c],c<o.length;c++){if(k=="ctrl"||k=="control"){u++;l.ctrl.wanted=true}else if(k=="shift"){u++;l.shift.wanted=true}else if(k=="alt"){u++;l.alt.wanted=true}else if(k=="meta"){u++;l.meta.wanted=true}else if(k.length>1){if(f[k]==code)u++}else if(n["keycode"]){if(n["keycode"]==code)u++}else{if(s==k)u++;else{if(a[s]&&r.shiftKey){s=a[s];if(s==k)u++}}}}if(u==o.length&&l.ctrl.pressed==l.ctrl.wanted&&l.shift.pressed==l.shift.wanted&&l.alt.pressed==l.alt.wanted&&l.meta.pressed==l.meta.wanted){t(r);if(!n["propagate"]){r.cancelBubble=true;r.returnValue=false;if(r.stopPropagation){r.stopPropagation();r.preventDefault()}return false}}};this.all_shortcuts[e]={callback:u,target:s,event:n["type"]};if(s.addEventListener)s.addEventListener(n["type"],u,false);else if(s.attachEvent)s.attachEvent("on"+n["type"],u);else s["on"+n["type"]]=u},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];delete this.all_shortcuts[e];if(!t)return;var n=t["event"];var r=t["target"];var i=t["callback"];if(r.detachEvent)r.detachEvent("on"+n,i);else if(r.removeEventListener)r.removeEventListener(n,i,false);else r["on"+n]=false}},createShortcut:function(e,t){var n=this;n.shortcut.add(e,t)},xml:{fromJSON:function(e,t,n,r){var i=CAIRS;typeof t==="undefined"?t=true:"";typeof r==="undefined"?r=null:"";typeof n==="undefined"?n=false:"";for(var s in e){var o;if(t){o=s;r=document.implementation.createDocument(null,s,null);t=false}if(i.isArray(e[s])){for(var u=0;u<e[s].length;u++){var a=e[s][u];if(i.isObject(a)){var f="";var l="";for(var c in a){var h=null;if(CAIRS.isArray(a[c])){this.fromJSON(a,false,l,r)}else{f=c;h=r.createElement(f);var p=a[c];if(i.isObject(p)){for(var d in p){h.setAttribute(d,p[d])}}n?n.appendChild(h):r.documentElement.appendChild(h);l=h}}}}}}return r},serialize:function(e){if(typeof window.XMLSerializer!="undefined"){return(new window.XMLSerializer).serializeToString(e)}else if(typeof e.xml!="undefined"){return e.xml}return""}},test:function(){console.log("parent ok")},init:function(){var e=this;e.checkBrowserStuff();e.exposeForEach()}};window.onload=function(){CAIRS.init()}